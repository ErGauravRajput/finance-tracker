import{u as p,r as l,a as g,j as e,N as x}from"./index-Rc-Xpk4O.js";import{a as j}from"./axios-CIYRMzzG.js";const v=()=>{const{isAuthenticated:m}=p(),[a,u]=l.useState({name:"",email:"",password:""}),[n,i]=l.useState(""),d=g();if(m)return e.jsx(x,{to:"/dashboard"});const t=s=>u(r=>({...r,[s.target.name]:s.target.value})),c=async s=>{var r,o;s.preventDefault(),i("");try{await j.post("/auth/register",a),d("/login")}catch(h){i(((o=(r=h.response)==null?void 0:r.data)==null?void 0:o.message)||"Registration failed")}};return e.jsxs("div",{className:"auth-card",children:[e.jsx("h2",{children:"Register"}),e.jsxs("form",{onSubmit:c,className:"form",children:[e.jsxs("label",{children:["Name",e.jsx("input",{name:"name",required:!0,value:a.name,onChange:t})]}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",type:"email",required:!0,value:a.email,onChange:t})]}),e.jsxs("label",{children:["Password",e.jsx("input",{name:"password",type:"password",required:!0,value:a.password,onChange:t})]}),n&&e.jsx("p",{className:"error",children:n}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Register"})]})]})};export{v as default};
